<html>

<head>
	<title>FMS</title>
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
	<script>
		function set_visibility(id) {
			for (element of document.getElementById("form").getElementsByTagName('form')) {
				console.log(element)
				element.style.display = 'none'
			}
			document.getElementById(id).style.display = 'initial'
		}
		function form_get(path, id) {
			axios.get(path, id ? { params: Object.fromEntries(new FormData(document.getElementById(id))) } : null)
				.then(res => {
					console.log(res.data)
					document.getElementById('output').innerHTML = res.data
				})
				.catch(err => console.log(err))
		}
		function form_post(path, id) {
			axios.post(path, new FormData(document.getElementById(id)))
				.then(res => {
					console.log(res.data)
					document.getElementById('output').innerHTML = res.data
				})
				.catch(err => console.log(err))
		}
	</script>
</head>

<body>
	<button onclick="form_get('/accounts')">Get accounts</button>
	<button onclick="form_get('/transactions')">Get transactions</button>
	<button onclick="form_get('/employees')">Get employees</button>
	<button onclick="form_get('/vendors')">Get vendors</button>
	<button onclick="form_get('/customers')">Get customers</button>
	<button onclick="form_get('/attendance')">Get attendance</button>
	<button onclick="set_visibility('get_transactions_for_account')">Get transactions for account</button>
	<button onclick="set_visibility('get_salary_for_employee')">Get salary for employee</button>
	<button onclick="set_visibility('get_advance_for_employee')">Get advance for employee</button>
	<button onclick="set_visibility('insert_advance_for_employee')">Insert advance</button>
	<button onclick="set_visibility('insert_attendence_for_employee')">Insert attendance</button>
	<button onclick="set_visibility('new_member')">Make new Member</button>
	<button onclick="set_visibility('insert_transaction')">Insert Transaction</button>

	<div id="form">
		<!-- Case 2  -->
		<form id="get_transactions_for_account" style="display: none;">
			<label for="a_id">Account ID</label>
			<input type="text" id="a_id" name="account_id">

			<button type="button" onclick="form_get('/account','get_transactions_for_account')">
				Get transactions</button>
		</form>
		<!-- Case 8 -->
		<form id="get_salary_for_employee" style="display: none;">
			<label for="e_id">Employee ID</label>
			<input type="text" id="e_id" name="employee_id">

			<button type="button" onclick="form_get('/salary','get_salary_for_employee')">
				Get Salary</button>

			
		</form>

		<!--advance for employee-->
		<form id="get_advance_for_employee" style="display: none;">
			<label for="e_id">Employee ID</label>
			<input type="text" id="e_id" name="employee_id">
			<button type="button" onclick="form_get('/advance','get_advance_for_employee')">
				Get Advance</button>
		</form>

		<!--apply for advance-->
		<form id="insert_advance_for_employee" style="display: none;">
			<label for="e_id">Employee ID</label>
			<input type="text" id="e_id" name="employee_id">

			<label for="tr_amount">Amount</label>
			<input type="text" id="tr_amount" name="amount">

			<label for="tr_date">Date</label>
			<input type="date" id="tr_date" name="date">

			<button type="button" onclick="form_post('/advance','insert_advance_for_employee')">
				Insert Advance</button>
		</form>

		<!--insert attendence-->		
		<form id="insert_attendence_for_employee" style="display: none;">
			
			<br>
			<label for="e_id">Employee ID</label>
			<input type="text" id="e_id" name="employee_id"><br><br>

			<label for="at_date">Date</label>
			<input type="date" id="at_date" name="date"><br><br>

			<label for="at_time_in">Start Time</label>
			<input type="time" id="at_time_in" name="time_in"><br><br>
			
			<label for="at_time_out">Leave Time</label>
			<input type="time" id="at_time_out" name="time_out"><br><br>

			<label for="at_leave">Leave</label>
			<input type="checkbox" id="at_leave" name="leave", value="Yes"><br><br>
			
			<label for="at_hours">Break Hours</label>
			<input type="text" id="at_hours" name="break_hours"><br><br>


			<button type="button" onclick="form_post('/advance','insert_attendence_for_employee')">
				Insert Attendance</button>
		</form>

		<!-- Case 21 -->
		<form id="new_member" style="display: none;">
			<label for="p_id">Choose Position</label><br>
			<select name="role" id="new_member">
				<option value="employee">Employee</option>
				<option value="customer">Customer</option>
				<option value="vendor">Vendor</option>
			</select><br>

			<label for="p_name">Enter Name:</label><br>
			<input type="text" id="p_name" name="name"><br>

			<label for="p_address">Enter Address:</label><br>
			<input type="text" id="p_address" name="address"><br>

			<label for="p_phone">Enter Phone Number:</label><br>
			<input type="text" id="p_phone" name="phone"><br>

			<label for="p_open_balance">Enter Opening Balance:</label><br>
			<input type="text" id="p_open_balance" name="opening_balance"><br>

			<label for="p_wage">Enter Hourly Wage:</label><br>
			<input type="text" id="p_wage" name="hourly_wage">

			<button type="button" onclick="form_post('/create','new_member')">
				Add Person</button>		
		</form>

		<!--Case 19 -->
		<form id="insert_transaction" style="display: none;">
			<label for="amount_id">Enter Amount: </label><br>
			<input type="text" id="amount_id" name="amount"><br>

			<label for="date_id">Enter Date: </label><br>
			<input type="date" id="date_id" name="date"><br>

			<label for="from_id">From Account: </label><br>
			<input type="text" id="from_id" name="from_account"><br>

			<label for="to_id">To Account: </label><br>
			<input type="text" id="to_id" name="to_account"><br>

			<button type="button" onclick="form_post('/transactions','insert_transaction')">
				Insert</button>
		</form>

	</div>
	<div id="output"></div>
</body>

</html>